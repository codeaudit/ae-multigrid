% Summarize benchmark statistics.
%
% [stats_sum] = bench_summary(stats_arr)
%
% Input:
%    stats_arr - cell array of stats generated by bench_fg
%
% Output:
%    stats_sum - summary statistics
%       reg_acc    - mean region pair (shared edges) classification accuracy
%       epx_acc    - mean edge pixel classification accuracy (all edges)
%       epx_acc_50 - mean edge pixel classification accuracy (50% most figural)
%       epx_acc_25 - mean edge pixel classification accuracy (25% most figural)
function [stats_sum] = bench_summary(stats_arr)
   % concatenate stats
   s = [stats_arr{:}];
   % extract classfication scores
   reg_acc    = [s.reg_acc];
   reg_cnt    = [s.reg_cnt];
   epx_acc    = [s.epx_acc];
   epx_acc_50 = [s.epx_acc_50];
   epx_acc_25 = [s.epx_acc_25];
   epx_cnt    = [s.epx_cnt];
   epx_cnt_50 = [s.epx_cnt_50];
   epx_cnt_25 = [s.epx_cnt_25];
   % compute mean accuracies
   stats_sum = struct( ...
      'reg_acc',    sum(reg_acc.*reg_cnt)       ./ (sum(reg_cnt) + eps), ...
      'epx_acc',    sum(epx_acc.*epx_cnt)       ./ (sum(epx_cnt) + eps), ...
      'epx_acc_50', sum(epx_acc_50.*epx_cnt_50) ./ (sum(epx_cnt_50) + eps), ...
      'epx_acc_25', sum(epx_acc_25.*epx_cnt_25) ./ (sum(epx_cnt_25) + eps) ...
   );
end
